@import url("https://fonts.googleapis.com/css2?family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap");

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
    :root {
        /* Ultra-Clean Light Mode */
        --background: 210 20% 98%;
        --foreground: 224 71% 4%;

        /* White cards with subtle shadow and border */
        --card: 0 0% 100%;
        --card-foreground: 224 71% 4%;

        --popover: 0 0% 100%;
        --popover-foreground: 224 71% 4%;

        --primary: 199 89% 21%;
        --primary-foreground: 0 0% 100%;

        --secondary: 210 40% 96%;
        --secondary-foreground: 224 71% 4%;

        --muted: 210 20% 92%;
        --muted-foreground: 215 16% 47%;

        --accent: 34 78% 66%;
        --accent-foreground: 224 71% 4%;

        --destructive: 0 84% 60%;
        --destructive-foreground: 210 40% 98%;

        --border: 214 32% 91%;
        --input: 214 32% 91%;
        --ring: 199 89% 21%;

        --radius: 0.75rem;

        /* Sidebar: Light in Light Mode */
        --sidebar: 0 0% 100%;
        --sidebar-foreground: 224 71% 4%;
        --sidebar-primary: 34 78% 66%;
        --sidebar-primary-foreground: 0 0% 100%;
        --sidebar-accent: 210 40% 96%;
        --sidebar-accent-foreground: 224 71% 4%;
        --sidebar-border: 214 32% 91%;
        --sidebar-ring: 34 78% 66%;

        --color-red-50: oklch(97.1% 0.013 17.38);
        --color-red-300: oklch(80.8% 0.114 19.571);
        --color-red-400: oklch(70.4% 0.191 22.216);
        --color-red-500: oklch(63.7% 0.237 25.331);
        --color-red-600: oklch(57.7% 0.245 27.325);
        --color-orange-400: oklch(75% 0.183 55.934);
        --color-amber-500: oklch(76.9% 0.188 70.08);
        --color-emerald-500: oklch(69.6% 0.17 162.48);
        --color-blue-500: oklch(62.3% 0.214 259.815);
        --color-blue-900: oklch(37.9% 0.146 265.522);
        --color-purple-500: oklch(62.7% 0.265 303.9);
        --color-rose-500: oklch(64.5% 0.246 16.439);
        --color-slate-900: oklch(20.8% 0.042 265.755);
        --color-gray-50: oklch(98.5% 0.002 247.839);
        --color-gray-100: oklch(96.7% 0.003 264.542);
        --color-gray-200: oklch(92.8% 0.006 264.531);
        --color-gray-600: oklch(44.6% 0.03 256.802);
        --color-gray-700: oklch(37.3% 0.034 259.733);
        --color-gray-800: oklch(27.8% 0.033 256.848);
        --color-gray-900: oklch(21% 0.034 264.665);
        --color-black: #000;
        --color-white: #fff;
        --spacing: 0.25rem;
        --container-xs: 20rem;
        --container-sm: 24rem;
        --container-md: 28rem;
        --container-lg: 32rem;
        --container-3xl: 48rem;
        --container-4xl: 56rem;
        --container-6xl: 72rem;
        --container-7xl: 80rem;
        --text-xs: 0.75rem;
        --text-xs--line-height: calc(1 / 0.75);
        --text-sm: 0.875rem;
        --text-sm--line-height: calc(1.25 / 0.875);
        --text-base: 1rem;
        --text-base--line-height: calc(1.5 / 1);
        --text-lg: 1.125rem;
        --text-lg--line-height: calc(1.75 / 1.125);
        --text-xl: 1.25rem;
        --text-xl--line-height: calc(1.75 / 1.25);
        --text-2xl: 1.5rem;
        --text-2xl--line-height: calc(2 / 1.5);
        --text-3xl: 1.875rem;
        --text-3xl--line-height: calc(2.25 / 1.875);
        --font-weight-normal: 400;
        --font-weight-medium: 500;
        --font-weight-semibold: 600;
        --font-weight-bold: 700;
        --tracking-tight: -0.025em;
        --tracking-wider: 0.05em;
        --tracking-widest: 0.1em;
        --leading-snug: 1.375;
        --leading-normal: 1.5;
        --leading-relaxed: 1.625;
        --radius-2xl: 1rem;
        --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
        --animate-spin: spin 1s linear infinite;
        --animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        --blur-md: 12px;
        --aspect-video: 16 / 9;
        --default-transition-duration: 150ms;
        --default-transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        --default-font-family: 'Josefin Sans', sans-serif;
        --default-mono-font-family: var(--font-mono);
        --color-border: hsl(var(--border));
    }

    .dark {
        --background: 210 77% 7%;
        --foreground: 0 0% 100%;

        --card: 210 77% 10%;
        --card-foreground: 0 0% 100%;

        --popover: 210 77% 10%;
        --popover-foreground: 0 0% 100%;

        --primary: 34 78% 66%;
        --primary-foreground: 210 77% 7%;

        --secondary: 201 87% 12%;
        --secondary-foreground: 210 20% 98%;

        --muted: 210 77% 15%;
        --muted-foreground: 210 20% 80%;

        --accent: 201 87% 18%;
        --accent-foreground: 0 0% 100%;

        --destructive: 0 84% 60%;
        --destructive-foreground: 210 40% 98%;

        --border: 210 77% 18%;
        --input: 210 77% 18%;
        --ring: 34 78% 66%;

        /* Sidebar: Dark in Dark Mode */
        --sidebar: 210 77% 7%;
        --sidebar-foreground: 210 20% 98%;
        --sidebar-primary: 34 78% 66%;
        --sidebar-primary-foreground: 210 77% 7%;
        --sidebar-accent: 210 77% 15%;
        --sidebar-accent-foreground: 210 20% 98%;
        --sidebar-border: 210 77% 15%;
        --sidebar-ring: 34 78% 66%;
    }

    * {
        @apply border-border;
    }

    body {
        @apply font-sans antialiased bg-background text-foreground transition-colors duration-300;
    }
}

@layer utilities {
    .card-shadow {
        box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    }

    .rounded-xl {
        border-radius: calc(var(--radius) + 4px);
    }

    .rounded-md {
        border-radius: calc(var(--radius));
    }
}

html,
body {
    overflow-x: hidden;
}

.v-select,
.select2-container {
    z-index: 10001 !important;
    width: 100% !important;
}

.vs__dropdown-menu,
.select2-dropdown {
    z-index: 10002 !important;
}

.vs__dropdown-toggle {
    border-radius: 8px;
    padding: 6px 10px;
}

/* Markdown content styling */
.markdown-content {
    @apply text-foreground;
}

.markdown-content h1,
.markdown-content h2,
.markdown-content h3,
.markdown-content h4,
.markdown-content h5,
.markdown-content h6 {
    @apply font-bold text-foreground mt-4 mb-2;
}

.markdown-content h1 {
    @apply text-2xl;
}

.markdown-content h2 {
    @apply text-xl;
}

.markdown-content h3 {
    @apply text-lg;
}

.markdown-content h4 {
    @apply text-base;
}

.markdown-content p {
    @apply mb-3 text-foreground;
}

.markdown-content p:last-child {
    @apply mb-0;
}

.markdown-content strong,
.markdown-content b {
    @apply font-bold text-foreground;
}

.markdown-content em,
.markdown-content i {
    @apply italic;
}

.markdown-content ul,
.markdown-content ol {
    @apply my-3 ml-6 list-disc;
}

.markdown-content ol {
    @apply list-decimal;
}

.markdown-content li {
    @apply mb-1 text-foreground;
}

.markdown-content code {
    @apply bg-sidebar-accent px-1.5 py-0.5 rounded text-xs font-mono text-foreground;
}

.markdown-content pre {
    @apply bg-sidebar-accent p-3 rounded-lg overflow-x-auto my-3;
}

.markdown-content pre code {
    @apply bg-transparent p-0;
}

.markdown-content blockquote {
    @apply border-l-4 border-sidebar-border pl-4 my-3 italic text-muted-foreground;
}

.markdown-content a {
    @apply text-primary underline hover:text-primary/80;
}

.markdown-content hr {
    @apply my-4 border-sidebar-border;
}

.markdown-content br {
    @apply block;
}

/* Minimal scrollbar styling */
#chat-body {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--sidebar-border)) transparent;
}

#chat-body::-webkit-scrollbar {
    width: 6px;
}

#chat-body::-webkit-scrollbar-track {
    background: transparent;
}

#chat-body::-webkit-scrollbar-thumb {
    background-color: hsl(var(--sidebar-border));
    border-radius: 3px;
}

#chat-body::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground));
}

/* Minimal scrollbar for sidebar conversation list */
.overflow-y-auto {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--sidebar-border)) transparent;
}

.overflow-y-auto::-webkit-scrollbar {
    width: 6px;
}

.overflow-y-auto::-webkit-scrollbar-track {
    background: transparent;
}

.overflow-y-auto::-webkit-scrollbar-thumb {
    background-color: hsl(var(--sidebar-border));
    border-radius: 3px;
}

.overflow-y-auto::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground));
}

.focus\:ring-indigo-500:focus {
    --tw-ring-color: hsl(var(--primary)) !important;
}

input:where([type="checkbox"]):checked,
input:where([type="checkbox"]):checked:hover,
input:where([type="checkbox"]):checked:focus,
input:where([type="radio"]):checked:hover,
input:where([type="radio"]):checked:focus {
    background-color: hsl(var(--primary)) !important;
}

input:where([type="checkbox"]):focus,
input:where([type="radio"]):focus {
    outline: none;
    --tw-ring-offset-width: none;
}

input:where([type="checkbox"]),
input:where([type="radio"]) {
    background-color: transparent;
}

.m-0 {
    margin: 0 !important;
}

.mt-4 {
    margin-top: 1rem !important;
}

.mb-4 {
    margin-bottom: 1rem !important;
}

[data-sonner-toaster][dir=ltr],
html[dir=ltr] {
    --toast-icon-margin-start: -3px;
    --toast-icon-margin-end: 4px;
    --toast-svg-margin-start: -1px;
    --toast-svg-margin-end: 0px;
    --toast-button-margin-start: auto;
    --toast-button-margin-end: 0;
    --toast-close-button-start: 0;
    --toast-close-button-end: unset;
    --toast-close-button-transform: translate(-35%, -35%);
}

[data-sonner-toaster][data-sonner-theme=dark] {
    --normal-bg: #000;
    --normal-bg-hover: hsl(0, 0%, 12%);
    --normal-border: hsl(0, 0%, 20%);
    --normal-border-hover: hsl(0, 0%, 25%);
    --normal-text: var(--gray1);
    --success-bg: hsl(150, 100%, 6%);
    --success-border: hsl(147, 100%, 12%);
    --success-text: hsl(150, 86%, 65%);
    --info-bg: hsl(215, 100%, 6%);
    --info-border: hsl(223, 43%, 17%);
    --info-text: hsl(216, 87%, 65%);
    --warning-bg: hsl(64, 100%, 6%);
    --warning-border: hsl(60, 100%, 9%);
    --warning-text: hsl(46, 87%, 65%);
    --error-bg: hsl(358, 76%, 10%);
    --error-border: hsl(357, 89%, 16%);
    --error-text: hsl(358, 100%, 81%);
}

[data-sonner-toast][data-type="success"] {
    @supports (color: color-mix(in lab, red, red)) {
        background-color:
            color-mix(in oklab, var(--color-emerald-500) 15%, transparent) !important;
        border-color:
            color-mix(in oklab, var(--color-emerald-500) 50%, transparent) !important;
    }
}

[data-sonner-toast] {
    padding-inline: calc(var(--spacing) * 4) !important;
    padding-block: calc(var(--spacing) * 3) !important;
    font-family: 'Josefin Sans', sans-serif !important;
    color: hsl(var(--foreground)) !important;
    --tw-shadow: 0 25px 50px -12px var(--tw-shadow-color, rgb(0 0 0 / 0.25)) !important;
    box-shadow: var(--tw-inset-shadow), var(--tw-inset-ring-shadow), var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow) !important;
    --tw-backdrop-blur: blur(var(--blur-md)) !important;
    -webkit-backdrop-filter: var(--tw-backdrop-blur, ) var(--tw-backdrop-brightness, ) var(--tw-backdrop-contrast, ) var(--tw-backdrop-grayscale, ) var(--tw-backdrop-hue-rotate, ) var(--tw-backdrop-invert, ) var(--tw-backdrop-opacity, ) var(--tw-backdrop-saturate, ) var(--tw-backdrop-sepia, ) !important;
    backdrop-filter: var(--tw-backdrop-blur, ) var(--tw-backdrop-brightness, ) var(--tw-backdrop-contrast, ) var(--tw-backdrop-grayscale, ) var(--tw-backdrop-hue-rotate, ) var(--tw-backdrop-invert, ) var(--tw-backdrop-opacity, ) var(--tw-backdrop-saturate, ) var(--tw-backdrop-sepia, ) !important;
    border-radius: calc(var(--radius) + 4px) !important;
}

[data-sonner-toast][data-styled=true] [data-close-button] {
    position: absolute;
    left: var(--toast-close-button-start) !important;
    right: var(--toast-close-button-end) !important;
    top: 0 !important;
    height: 20px;
    width: 20px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0;
    border: 1px solid var(--gray4);
    transform: var(--toast-close-button-transform);
    border-radius: 50%;
    cursor: pointer;
    z-index: 1;
    transition: opacity .1s, background .2s, border-color .2s;
}

[data-sonner-toast] [data-close-button] {
    border-color: hsl(var(--border)) !important;
    background-color: hsl(var(--muted)) !important;
    color: hsl(var(--muted-foreground)) !important;
}

[data-sonner-toast][data-type="success"] [data-icon] {
    color: var(--color-emerald-500) !important;
}

.backdrop-blur-md {
    --tw-backdrop-blur: blur(var(--blur-md));
    -webkit-backdrop-filter: var(--tw-backdrop-blur, ) var(--tw-backdrop-brightness, ) var(--tw-backdrop-contrast, ) var(--tw-backdrop-grayscale, ) var(--tw-backdrop-hue-rotate, ) var(--tw-backdrop-invert, ) var(--tw-backdrop-opacity, ) var(--tw-backdrop-saturate, ) var(--tw-backdrop-sepia, );
    backdrop-filter: var(--tw-backdrop-blur, ) var(--tw-backdrop-brightness, ) var(--tw-backdrop-contrast, ) var(--tw-backdrop-grayscale, ) var(--tw-backdrop-hue-rotate, ) var(--tw-backdrop-invert, ) var(--tw-backdrop-opacity, ) var(--tw-backdrop-saturate, ) var(--tw-backdrop-sepia, );
}

.bg-red-500 {
    background-color: var(--color-red-500);
}

[data-rich-colors='true'][data-sonner-toast][data-type='error'] {
    background-color:
        color-mix(in oklab, #ef4444 15%, transparent) !important;
    border-color:
        color-mix(in oklab, #ef4444 50%, transparent) !important;
}

[data-sonner-toast][data-type="error"] [data-icon] {
    color: var(--color-red-300) !important;
}